<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G√≥i Premium - JobLink</title>
    <link rel="stylesheet" th:href="@{/header.css}">
    <link rel="stylesheet" th:href="@{/premium-packages.css}">
</head>
<body>
<div th:replace="~{header :: header}"></div>

<div class="premium-container">
    <div class="premium-header">
        <h1>N√¢ng C·∫•p T√†i Kho·∫£n Premium</h1>
        <p>M·ªü kh√≥a c√°c t√≠nh nƒÉng cao c·∫•p ƒë·ªÉ tƒÉng c∆° h·ªôi t√¨m vi·ªác c·ªßa b·∫°n</p>
    </div>

    <div th:if="${activeSubscription != null}" class="active-subscription-banner">
        <h3>B·∫°n ƒëang s·ª≠ d·ª•ng g√≥i: <span th:text="${activeSubscription.packageName}"></span></h3>
        <p>H·∫øt h·∫°n: <span th:text="${#temporals.format(activeSubscription.endDate, 'dd/MM/yyyy HH:mm')}"></span></p>
    </div>

    <div class="packages-grid">
        <div th:each="package : ${packages}" class="package-card"
             th:classappend="${package.code == 'LEGENDSTAR_PREMIUM'} ? 'featured' : ''">
            <div class="package-header">
                <!-- Display package names with badges -->
                <div class="package-badge" th:if="${package.code == 'LEGENDSTAR_PREMIUM'}">‚≠ê PH·ªî BI·∫æN NH·∫§T</div>
                <h2 th:text="${package.name}"></h2>
                <div class="package-price">
                    <span class="price-amount" th:text="${#numbers.formatDecimal(package.price, 0, 'COMMA', 0, 'POINT')}"></span>
                    <span class="price-currency">ƒë</span>
                    <span class="price-period" th:text="'/' + ${package.durationDays} + ' ng√†y'"></span>
                </div>
            </div>

            <div class="package-features">
                <!-- Updated feature descriptions based on new requirements -->

                <!-- Star-Premium features -->
                <div class="feature-item" th:if="${package.code == 'STAR_PREMIUM' or package.code == 'SUPERSTAR_PREMIUM' or package.code == 'LEGENDSTAR_PREMIUM'}">
                    <span class="feature-icon">‚úì</span>
                    <span>Nh·∫Øn tin tr·ª±c ti·∫øp v·ªõi nh√† tuy·ªÉn d·ª•ng sau khi ·ª©ng tuy·ªÉn</span>
                </div>

                <!-- SuperStar-Premium features -->
                <div class="feature-item" th:if="${package.code == 'SUPERSTAR_PREMIUM' or package.code == 'LEGENDSTAR_PREMIUM'}">
                    <span class="feature-icon">‚úì</span>
                    <span>L·ªçc top 5 c√¥ng vi·ªác ph√π h·ª£p nh·∫•t d·ª±a tr√™n k·ªπ nƒÉng c·ªßa b·∫°n</span>
                </div>

                <!-- LegendStar-Premium features -->
                <div class="feature-item" th:if="${package.code == 'LEGENDSTAR_PREMIUM'}">
                    <span class="feature-icon">‚úì</span>
                    <span>Truy c·∫≠p 5 m·∫´u CV chuy√™n nghi·ªáp</span>
                </div>
                <div class="feature-item" th:if="${package.code == 'LEGENDSTAR_PREMIUM'}">
                    <span class="feature-icon">‚úì</span>
                    <span>Xu·∫•t CV d·∫°ng PDF kh√¥ng gi·ªõi h·∫°n</span>
                </div>
                <div class="feature-item" th:if="${package.code == 'LEGENDSTAR_PREMIUM'}">
                    <span class="feature-icon">‚úì</span>
                    <span>Nh·∫Øn tin v·ªõi ng∆∞·ªùi t√¨m vi·ªác kh√°c (Networking)</span>
                </div>

                <!-- Common features -->
                <div class="feature-item">
                    <span class="feature-icon">‚úì</span>
                    <span>H·ªó tr·ª£ ∆∞u ti√™n 24/7</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">‚úì</span>
                    <span>Th√¥ng b√°o vi·ªác l√†m ph√π h·ª£p</span>
                </div>
            </div>

            <button class="purchase-btn"
                    th:attr="data-package-id=${package.packageId}"
                    th:disabled="${activeSubscription != null}"
                    onclick="purchasePackage(this)">
                <span th:if="${activeSubscription == null}">Mua Ngay</span>
                <span th:if="${activeSubscription != null}">ƒêang S·ª≠ D·ª•ng</span>
            </button>
        </div>
    </div>

    <!-- Add free features section -->
    <div class="free-features-section">
        <h2>T√≠nh NƒÉng Mi·ªÖn Ph√≠</h2>
        <div class="free-features-grid">
            <div class="free-feature-item">
                <span class="feature-icon-large">ü§ù</span>
                <h3>K·∫øt N·ªëi Networking</h3>
                <p>K·∫øt n·ªëi v·ªõi ng∆∞·ªùi t√¨m vi·ªác c√≥ k·ªπ nƒÉng t∆∞∆°ng t·ª± ho√†n to√†n mi·ªÖn ph√≠</p>
            </div>
            <div class="free-feature-item">
                <span class="feature-icon-large">üîç</span>
                <h3>T√¨m Ki·∫øm Vi·ªác L√†m</h3>
                <p>T√¨m ki·∫øm v√† ·ª©ng tuy·ªÉn kh√¥ng gi·ªõi h·∫°n</p>
            </div>
            <div class="free-feature-item">
                <span class="feature-icon-large">üìù</span>
                <h3>Qu·∫£n L√Ω H·ªì S∆°</h3>
                <p>T·∫°o v√† c·∫≠p nh·∫≠t h·ªì s∆° c√° nh√¢n</p>
            </div>
        </div>
    </div>
</div>

<script>
    function purchasePackage(button) {
        const packageId = button.getAttribute('data-package-id');

        // Redirect to demo payment page
        window.location.href = '/jobseeker/premium/payment-demo?packageId=' + packageId;
    }
</script>
</body>
</html>
