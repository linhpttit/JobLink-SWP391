<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${job != null ? job.title : 'Job Detail'} + ' - JobLink'">Job Detail - JobLink</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" th:href="@{/CSS/job-detail.css}">
    <link rel="stylesheet" th:href="@{/CSS/homepage.css}">
</head>

<body>
<div th:replace="~{header :: header}"></div>

<main class="detail-main">
    <div class="breadcrumb">
        <a href="/">Home</a> / <a href="/search">Find Job</a> / <span th:text="${job != null ? job.title : 'Job Detail'}">Job Detail</span>
    </div>

    <div class="detail-container">
        <!-- Left Column -->
        <div class="job-detail-left">
            <div class="job-header">
                <div class="job-logo-large">
                    <i class="fas fa-building"></i>
                </div>
                <div class="job-header-info">
                    <div class="job-info-left">
                        <h1 class="job-title" th:text="${job != null ? job.title : 'Senior Software Engineer'}">Senior Software Engineer</h1>
                        <div class="job-company">
                            <span><i class="fas fa-building"></i> <span th:text="${job != null and job.employer != null ? job.employer.companyName : 'Tech Solutions Inc.'}">Tech Solutions Inc.</span></span>
                            <span><i class="fas fa-map-marker-alt"></i>
                                <span th:if="${job != null and job.province != null}">
                                    <span th:if="${job.streetAddress != null and !job.streetAddress.isEmpty()}"
                                          th:text="${job.streetAddress} + ', '"></span>
                                    <span th:if="${job.district != null}" th:text="${job.district.districtName} + ', '"></span>
                                    <span th:text="${job.province.provinceName}"></span>
                                </span>
                                <span th:unless="${job != null and job.province != null}">Ho Chi Minh City, Vietnam</span>
                            </span>
                        </div>
                        <div class="job-badges">
                            <span class="badge badge-featured">Featured</span>
                            <span class="badge badge-fulltime" th:text="${job != null and job.workType != null ? job.workType : 'Full Time'}">Full Time</span>
                        </div>
                    </div>
                    <div class="job-actions-top">
                        <button class="btn-bookmark-large">
                            <i class="far fa-bookmark"></i>
                        </button>
                        <button class="btn-primary-large" id="applyNowBtn">
                            Apply Now <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Job Description -->
            <div class="section">
                <h2 class="section-title">Job Description</h2>
                <div class="section-content">
                    <div th:if="${job != null and job.jobDescription != null}" th:utext="${job.jobDescription}"></div>
                    <div th:unless="${job != null and job.jobDescription != null}">
                        <p>We are seeking a talented Senior Software Engineer to join our dynamic team. In this role, you will be responsible for designing, developing, and maintaining high-quality software solutions.</p>
                        <p>Here at our company, we don't just make software, we create exceptional digital experiences that consumers love. Our team of designers, developers, strategists, and creators work together to push brands to the next level.</p>
                        <p>The role will involve translating project specifications into clean, test-driven, easily maintainable code. You will work with the Project and Development teams as well as with the Technical Director, adhering closely to project plans and delivering work that meets functional & non-functional requirements.</p>
                        <p>Want to work with us? You're in good company!</p>
                    </div>
                </div>
            </div>

            <!-- Responsibilities -->
            <div class="section">
                <h2 class="section-title">Responsibilities</h2>
                <ul class="responsibilities-list">
                    <li>Collaborate with other team members and stakeholders to deliver high-quality, scalable products.</li>
                    <li>Work closely with the Project Management and Development teams to ensure that all project requirements are met within the deadlines.</li>
                    <li>Develop new features according to the client requirements and maintain existing functionality.</li>
                    <li>Write clean, maintainable code that follows best practices and design patterns.</li>
                    <li>Conduct code reviews and provide constructive feedback to other developers on the team.</li>
                    <li>Stay up-to-date with emerging trends and technologies in web development.</li>
                </ul>
            </div>

            <!-- Requirements -->
            <div class="section">
                <h2 class="section-title">Requirements</h2>
                <div class="section-content">
                    <div th:if="${job != null and job.jobRequirements != null}" th:utext="${job.jobRequirements}"></div>
                    <ul class="responsibilities-list" th:unless="${job != null and job.jobRequirements != null}">
                        <li>Great troubleshooting and analytical skills combined with the desire to tackle challenges head-on</li>
                        <li><span th:text="${job != null and job.yearExperience != null ? job.yearExperience : '3+ years'}">3+ years</span> of experience in back-end development working either with multiple smaller projects simultaneously or large-scale applications</li>
                        <li>Experience with HTML, CSS, JavaScript, and modern frameworks</li>
                        <li>Working knowledge of various technologies and systems</li>
                        <li>Previous experience working with 3rd party systems and APIs</li>
                        <li>Proven ability to transform designs into pixel-perfect, cross-browser compatible code</li>
                        <li>Working knowledge of version control systems like Git</li>
                    </ul>
                </div>
            </div>

            <!-- Desirable -->
            <div class="section">
                <h2 class="section-title">Desirable</h2>
                <ul class="responsibilities-list">
                    <li>Working knowledge of advanced technologies and frameworks</li>
                    <li>Previous experience working in an agency environment</li>
                    <li>Degree in Computer Science or equivalent practical experience</li>
                    <li>Experience with performance optimization and web accessibility</li>
                </ul>
            </div>

            <!-- Benefits -->
            <div class="section">
                <h2 class="section-title">Benefits</h2>
                <div class="section-content">
                    <div th:if="${job != null and job.benefits != null}" th:utext="${job.benefits}"></div>
                    <ul class="responsibilities-list" th:unless="${job != null and job.benefits != null}">
                        <li>Early finish on Fridays for our end of week catch up (4:30 finish, and drink of your choice from the bar)</li>
                        <li>28 days holiday (including bank holidays) rising by 1 day per year PLUS a day off on your birthday</li>
                        <li>Generous annual bonus.</li>
                        <li>Healthcare package</li>
                        <li>Paid community days to volunteer for a charity of your choice</li>
                        <li>$100 contribution for your own personal development</li>
                        <li>Free Breakfast every Monday and social activities every month</li>
                        <li>Access to Perkbox with numerous discounts plus free points from the company to spend as you wish.</li>
                        <li>Cycle 2 Work Scheme</li>
                        <li>Brand new MacBook Pro</li>
                        <li>Joining an agency on the cusp of exponential growth and being part of this exciting story.</li>
                    </ul>
                </div>
            </div>

            <!-- Share -->
            <div class="share-section">
                <p class="share-title">Share this job:</p>
                <div class="social-buttons">
                    <button class="social-btn facebook"><i class="fab fa-facebook-f"></i></button>
                    <button class="social-btn twitter"><i class="fab fa-twitter"></i></button>
                    <button class="social-btn pinterest"><i class="fab fa-pinterest-p"></i></button>
                    <button class="social-btn linkedin"><i class="fab fa-linkedin-in"></i></button>
                    <button class="social-btn whatsapp"><i class="fab fa-whatsapp"></i></button>
                </div>
            </div>
        </div>

        <!-- Right Column -->
        <div class="job-detail-right">
            <!-- Job Overview -->
            <div class="info-card">
                <h3>Job Overview</h3>
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="info-content">
                        <h4>Job Posted:</h4>
                        <p th:if="${job != null and job.postedAt != null}"
                           th:text="${#temporals.format(job.postedAt, 'dd MMM, yyyy')}">15 Jan, 2025</p>
                        <p th:unless="${job != null and job.postedAt != null}">15 Jan, 2025</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-hourglass-end"></i>
                    </div>
                    <div class="info-content">
                        <h4>Job Expire In:</h4>
                        <p th:if="${job != null and job.submissionDeadline != null}"
                           th:text="${#temporals.format(job.submissionDeadline, 'dd MMM, yyyy')}">15 Feb, 2025</p>
                        <p th:unless="${job != null and job.submissionDeadline != null}">15 Feb, 2025</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <div class="info-content">
                        <h4>Education:</h4>
                        <p>Graduation</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="info-content">
                        <h4>Experience:</h4>
                        <p th:text="${job != null and job.yearExperience != null ? job.yearExperience : '2-3 Year'}">2-3 Year</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="info-content">
                        <h4>Location:</h4>
                        <p th:if="${job != null and job.province != null}">
                            <span th:if="${job.streetAddress != null and !job.streetAddress.isEmpty()}"
                                  th:text="${job.streetAddress} + ', '"></span>
                            <span th:if="${job.district != null}" th:text="${job.district.districtName} + ', '"></span>
                            <span th:text="${job.province.provinceName}"></span>
                        </p>
                        <p th:unless="${job != null and job.province != null}">Ho Chi Minh City, Vietnam</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <div class="info-content">
                        <h4>Job Type:</h4>
                        <p th:text="${job != null and job.workType != null ? job.workType : 'Full Time'}">Full Time</p>
                    </div>
                </div>
            </div>

            <!-- Company Info -->
            <div class="info-card company-card">
                <div class="company-logo-large">
                    <i class="fas fa-building"></i>
                </div>
                <h3 th:text="${job != null and job.employer != null ? job.employer.companyName : 'Tech Solutions Inc.'}">Tech Solutions Inc.</h3>
                <p style="color: #64748b; margin-bottom: 20px;" th:text="${job != null and job.employer != null ? job.employer.industry : 'Information Technology'}">Information Technology</p>

                <div class="company-info-list">
                    <div class="company-info-item">
                        <span class="company-info-label">Founded in:</span>
                        <span class="company-info-value">March 21, 2008</span>
                    </div>
                    <div class="company-info-item">
                        <span class="company-info-label">Organization type:</span>
                        <span class="company-info-value">Private Company</span>
                    </div>
                    <div class="company-info-item">
                        <span class="company-info-label">Company size:</span>
                        <span class="company-info-value">100-500 Employees</span>
                    </div>
                    <div class="company-info-item" th:if="${job != null and job.contactPhone != null}">
                        <span class="company-info-label">Phone:</span>
                        <span class="company-info-value" th:text="${job.contactPhone}">+84 123 456 789</span>
                    </div>
                    <div class="company-info-item" th:unless="${job != null and job.contactPhone != null}">
                        <span class="company-info-label">Phone:</span>
                        <span class="company-info-value">(406) 555-0120</span>
                    </div>
                    <div class="company-info-item" th:if="${job != null and job.contactEmail != null}">
                        <span class="company-info-label">Email:</span>
                        <span class="company-info-value">
                            <a th:href="'mailto:' + ${job.contactEmail}" class="company-link" th:text="${job.contactEmail}">career@company.com</a>
                        </span>
                    </div>
                    <div class="company-info-item" th:unless="${job != null and job.contactEmail != null}">
                        <span class="company-info-label">Email:</span>
                        <span class="company-info-value">
                            <a href="mailto:career@company.com" class="company-link">career@company.com</a>
                        </span>
                    </div>
                    <div class="company-info-item" th:if="${job != null and job.employer != null and job.employer.website != null}">
                        <span class="company-info-label">Website:</span>
                        <span class="company-info-value">
                            <a th:href="${job.employer.website}" target="_blank" class="company-link" th:text="${job.employer.website}">https://company.com</a>
                        </span>
                    </div>
                    <div class="company-info-item" th:unless="${job != null and job.employer != null and job.employer.website != null}">
                        <span class="company-info-label">Website:</span>
                        <span class="company-info-value">
                            <a href="https://company.com" target="_blank" class="company-link">https://company.com</a>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Related Jobs -->
    <div class="related-jobs">
        <h2>Related Jobs</h2>
        <div class="related-jobs-grid">
            <div class="related-job-card" onclick="window.location.href='/job-detail/2'">
                <div class="related-job-header">
                    <div class="related-job-logo" style="background: #1877f2;">
                        <i class="fab fa-facebook-f"></i>
                    </div>
                    <div class="related-job-info">
                        <h4>Visual Designer</h4>
                        <p class="related-job-company">Facebook • UK</p>
                    </div>
                </div>
                <div class="related-job-footer">
                    <span>Full Time • $30K-$35K</span>
                </div>
            </div>

            <div class="related-job-card" onclick="window.location.href='/job-detail/3'">
                <div class="related-job-header">
                    <div class="related-job-logo" style="background: #5f3dc4;">
                        <i class="fab fa-microsoft"></i>
                    </div>
                    <div class="related-job-info">
                        <h4>Front End Developer</h4>
                        <p class="related-job-company">Microsoft • Creative Bd</p>
                    </div>
                </div>
                <div class="related-job-footer">
                    <span>Creative Bd • $30K-$45K</span>
                </div>
            </div>

            <div class="related-job-card" onclick="window.location.href='/job-detail/4'">
                <div class="related-job-header">
                    <div class="related-job-logo" style="background: #ff0000;">
                        <i class="fab fa-youtube"></i>
                    </div>
                    <div class="related-job-info">
                        <h4>Software Engineer</h4>
                        <p class="related-job-company">YouTube • Full Time</p>
                    </div>
                </div>
                <div class="related-job-footer">
                    <span>Full Time • $30K-$50K</span>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Apply Modal -->
<div class="modal-overlay" id="applyModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Apply Job: <span th:text="${job != null ? job.title : 'Senior Software Engineer'}">Senior Software Engineer</span></h2>
            <button class="modal-close" id="closeModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <form id="applyForm">
                <div class="form-group">
                    <label class="form-label">Choose Resume</label>
                    <select class="form-select">
                        <option>Select...</option>
                        <option>Resume-UX-Designer.pdf</option>
                        <option>John-Doe-CV-2024.pdf</option>
                        <option>Portfolio-Resume.pdf</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Cover Letter</label>
                    <div class="editor-toolbar">
                        <button type="button" class="editor-btn" title="Bold"><i class="fas fa-bold"></i></button>
                        <button type="button" class="editor-btn" title="Italic"><i class="fas fa-italic"></i></button>
                        <button type="button" class="editor-btn" title="Underline"><i class="fas fa-underline"></i></button>
                        <button type="button" class="editor-btn" title="Strikethrough"><i class="fas fa-strikethrough"></i></button>
                        <button type="button" class="editor-btn" title="Link"><i class="fas fa-link"></i></button>
                        <button type="button" class="editor-btn" title="Bullet List"><i class="fas fa-list-ul"></i></button>
                        <button type="button" class="editor-btn" title="Numbered List"><i class="fas fa-list-ol"></i></button>
                    </div>
                    <textarea class="form-textarea" placeholder="Write your cover letter/biography here. Let the employers know who you are..."></textarea>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn-cancel" id="cancelBtn">Cancel</button>
            <button class="btn-submit">
                Apply Now <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>
</div>
<script th:src="@{/JS/job-detail.js}" defer></script>

<div th:replace="~{footer :: footer}"></div>

</body>
</html>